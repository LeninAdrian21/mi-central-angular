<div  class="carga row w-100  justify-content-center align-content-center" *ngIf="!cargaOptions && btn=='Agregar' || btn == 'Actualizar' && !cargaOptions">
  <mat-spinner></mat-spinner>
</div>
<!--  -->
<!-- Card de fomulario -->
<div class="container pt-5" *ngIf="cargaOptions">
  <mat-card >
    <mat-toolbar class="justify-content-center bg-warning" >
      <h1>{{title}}</h1>
    </mat-toolbar>
    <form [formGroup]="formAbonos" (submit)="formAbono()" class="w-100">
      <div class="row mt-3">
        <!-- Cantidad de abono -->
        <div class="form-group  col-4">
          <mat-form-field appearance="fill" class="w-100">
            <mat-label>Cantidad de abono</mat-label>
            <!-- [ngClass]="{'is-invalid':submitted && formAbonos.controls.cantidad_abono.errors}" -->
            <input matInput type="text"
             placeholder="Cantidad de abono" formControlName="cantidad_abono">
          </mat-form-field>
          <!--  -->
          <div *ngIf="submitted && formAbonos.controls.cantidad_abono.errors">
            <!--  -->
            <mat-error *ngIf="submitted && formAbonos.controls.cantidad_abono.errors.required" class="text-danger">
              Cantidad de abono requerido
            </mat-error>
          </div>

        </div>
        <!-- Fecha Abono -->
        <div class="form-group  col-4">
          <mat-form-field appearance="fill" class="w-100">
            <mat-label>Fecha de abono</mat-label>
            <input  matInput type="datetime" formControlName="fecha_abono">
          </mat-form-field>
        </div>
        <!-- Estado de abono -->
        <div class="form-group col-4">
          <mat-form-field appearance="fill" class="w-100">
            <mat-label>Estado del abono</mat-label>
            <mat-select formControlName="estado_abono" required="true">
              <mat-option  value="Devolucion">
                Devolución
              </mat-option>
              <mat-option  value="Cancelacion">
                Cancelación
              </mat-option>
              <mat-option  value="Activo">
                Activo
              </mat-option>
              <mat-option  value="Pagado">
                Pagado
              </mat-option>
              <mat-option  value="Parcial">
                Parcial
              </mat-option>
              <mat-option  value="Completo">
                Completo
              </mat-option>
              <mat-option  value="Adeudo">
                Adeudo
              </mat-option>
              <!-- <mat-option  value="Otro">
                Otro
              </mat-option> -->
            </mat-select>
          </mat-form-field>
          <!--  -->
          <div *ngIf="submitted && formAbonos.controls.estado_abono.errors">
            <!--  -->
            <mat-error *ngIf="submitted && formAbonos.controls.estado_abono.errors.required" class="text-danger">
              Estado de abono requerido
            </mat-error>
          </div>
        </div>
        <!--Id Credito -->
        <div class="form-group  col-4">
          <mat-form-field appearance="fill" class="w-100">
            <mat-label>Limite de credito</mat-label>
            <mat-select  formControlName="id_credito">
              <mat-option *ngFor="let credito of  creditos$ | async" value={{credito.id}}>
                 {{credito.limite}}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>
        <!--Id usuario -->
        <div class="form-group  col-4">
          <mat-form-field appearance="fill" class="w-100">
            <mat-label>Nombre de usuario</mat-label>
            <mat-select formControlName="id_usuario">
              <mat-option *ngFor="let usuario of usuarios$ | async" value={{usuario.id}}>
                {{usuario.nombre}} {{usuario.ap_paterno}} {{usuario.ap_materno}}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>
      </div>

      <!-- Button Agregar/Actualizar-->
      <div class="row justify-content-center" *ngIf="!addUpdate">
        <button mat-raised-button type="submit" color="warn" class="w-100 mb-3 mt-3 col-4">
          {{btn}}
        </button>
      </div>
      <!-- Buton de loading -->
      <div class="row justify-content-center" *ngIf="addUpdate">
        <button mat-raised-button disabled class="w-100 col-4 bg-warning mb-3 mt-3">
            <span class="spinner-grow spinner-grow-sm c-black"  role="status" aria-hidden="true"></span>
            <span class="spinner-grow spinner-grow-sm aria-hidden c-black"></span>
            <span class="c-black">loading...</span>
        </button>
      </div>
    </form>
    <label for="party">Enter a date and time for your party booking:</label>
    <input id="party" type="date" name="partydate" value="2017-06-01T08:30" [(ngModel)] = "prueba">
    <button (click)="Prueba()">
      Hola
    </button>
  </mat-card>
</div>


